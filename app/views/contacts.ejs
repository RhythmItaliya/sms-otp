<% include partials/header %>
<!-- Page Content -->

<div class="flex items-center justify-center pt-10 sm:pt-20 px-4 sm:px-6 lg:px-8">
    <div class="relative overflow-x-auto shadow-md sm:rounded-lg w-full max-w-4xl">
        <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 bg-gray-100 p-4 rounded-lg shadow-lg mb-6">
            Contacts List
        </h2>

        <hr>
        <% if(locals.data) { %>
            <div style="height: 500px;" class="overflow-y-auto">
                <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                            <th scope="col" class="py-4 text-center">Name</th>
                            <th scope="col" class="py-4 text-center">Mobile</th>
                            <th scope="col" class="py-4 text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% data.contacts.forEach((contact) => { %>
                            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                                <td class="flex items-center justify-start sm:justify-center px-4 py-4 space-x-4">
                                    <img class="w-12 h-12 rounded-full" src="<%= contact.image %>" alt="<%= contact.firstName %> image">
                                    <div>
                                        <div class="text-base font-semibold"><%= contact.firstName %></div>
                                        <div class="font-normal text-gray-500"><%= contact.lastName %></div>
                                    </div>
                                </td>
                                <td class="px-4 py-4 text-center"><%= contact.mobile %></td>
                                <td class="px-4 py-4 text-center">
                                    <a href="<%= '/contacts/details/' + parseInt(contact.mobile) %>"
                                       aria-label="View details for <%= contact.firstName %> <%= contact.lastName %>"
                                       class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-md hover:bg-indigo-500 transition duration-200">View Details</a>
                                </td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        <% } else { %>
            <p class="text-red-600 text-center p-4"><%= err %></p>
        <% } %>
    </div>
</div>
<!-- /.container -->
<% include partials/footer %>
