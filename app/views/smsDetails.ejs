<% include partials/header %>

<div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-center">
        <div class="w-full max-w-lg pt-10 sm:pt-20">
            <% if (locals.err) { %>
                <p class="text-red-600 text-lg font-bold"><%= err %></p>
            <% } else { 
                let status = sms.status === 200 ? 'Sent' : 'Failed';
            %>
            <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-800 bg-gray-100 p-4 sm:p-6 rounded-lg shadow-lg">
                Message Details
            </h2>
              
            <hr class="my-4">
            <div class="bg-white shadow-md rounded-lg p-4 sm:p-6 border border-gray-200">
                <table class="w-full text-left text-gray-700">
                    <tbody>
                        <tr class="border-b">
                            <td class="py-2 font-semibold"><b>Recipient:</b></td>
                            <td class="py-2">
                                <a href="/contacts/details/<%= sms.to %>" class="text-yellow-600 hover:underline">
                                    <%= sms.recepientName %>
                                </a>
                            </td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold"><b>Mobile number:</b></td>
                            <td class="py-2">
                                <span class="text-gray-600 text-md font-bold"><%= '+' + sms.to %></span>
                            </td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold"><b>Message:</b></td>
                            <td class="py-2">
                                <span class="text-red-600 text-sm font-bold"><%= sms.body %></span>
                            </td>
                        </tr>
                        <tr class="border-b text-sm">
                            <td class="py-2 font-semibold"><b>Sent On:</b></td>
                            <td class="py-2"><b><%= new Date(sms._sentAt).toString() %></b></td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 font-semibold"><b>Status:</b></td>
                            <td class="py-2">
                                <span class="text-green-600">&#10003;</span> &nbsp;(<%= status %>)
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <hr class="my-4">              
            <% } %>
            <div class="flex justify-between mt-4">
                <a href="/sent" class="rounded-md bg-blue-600 px-4 py-2 sm:px-6 text-sm font-semibold text-white shadow-md hover:bg-blue-700 transition duration-200">Back to Sent Messages</a>
                <a href="/" class="rounded-md bg-red-600 px-4 py-2 sm:px-6 text-sm font-semibold text-white shadow-md hover:bg-red-500 transition duration-200">Home</a>      
            </div>
        </div>
    </div>
</div>

<% include partials/footer %>
